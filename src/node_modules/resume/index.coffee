State = require "state"
View = require "view"
Collection = require "collection"

Basics = require "basics"
Award = require "award"
Experience = require "experience"
Skill = require "skill"
Study = require "study"
Interest = require "interest"
Reference = require "reference"
Publication = require "publication"
Language = require "language"

subviewCollection = require "bindings/collection/subview"

module.exports = View.extend
	children:
		basics: Basics
	collections:
		awards: Collection.of Award
		work: Collection.of Experience
		volunteer: Collection.of Experience
		skills: Collection.of Skill
		education: Collection.of Study
		interests: Collection.of Interest
		references: Collection.of Reference
		publications: Collection.of Publication
		languages: Collection.of Language

	bindings:
		basics: hook: "basics", type: (el, oldVal, newVal) ->
			newVal.el = el
			newVal.render()

		work: hook: "work", type: subviewCollection
		education: hook: "education", type: subviewCollection
		awards: hook: "awards", type: subviewCollection
		interests: hook: "interests", type: subviewCollection
		languages: hook: "languages", type: subviewCollection

	template: require "./template"
